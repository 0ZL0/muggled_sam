<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="1122.143" height="313.778" viewBox="0 0 296.9 83.021">
  <g stroke-linecap="square">
    <text xml:space="preserve" x="333.127" y="-530.76" fill="#f60" stroke-width=".265" font-family="Monospace" font-size="4.233" paint-order="markers stroke fill" style="text-align:start" transform="translate(-120.925 546.641)"><tspan x="333.127" y="-530.76" style="text-align:start">Final block swaps</tspan><tspan x="333.127" y="-525.468" style="text-align:start">prompt vs. image</tspan><tspan x="333.127" y="-520.177" style="text-align:start">input ordering!</tspan><tspan x="333.127" y="-514.885" style="text-align:start">(not shown)</tspan></text>
    <text xml:space="preserve" x="155.773" y="-541.523" fill="#fff" stroke="#000" stroke-opacity=".798" stroke-width="1.058" font-family="Monospace" font-size="5.644" font-weight="700" paint-order="markers stroke fill" style="Monospace, Bold&quot;;text-align:start;" transform="translate(-120.925 546.641)"><tspan x="155.773" y="-541.523" style="Monospace, Bold&quot;;text-align:start;">Prompt-to-Image Attention Block</tspan></text>
    <text xml:space="preserve" x="398.235" y="-486.078" fill="#fff" stroke="#000" stroke-linejoin="bevel" stroke-width=".794" font-family="Monospace" font-size="4.233" font-weight="400" paint-order="markers stroke fill" style="text-align:center;" text-anchor="middle" transform="translate(-120.925 546.641)"><tspan x="398.235" y="-486.078" style="text-align:center;">image tokens</tspan></text>
    <path fill="#fff" stroke="#000" stroke-width=".529" d="m44.332 48.085 2.092-1.375-2.092-1.375v1.087H1.278v.53h43.054z" paint-order="markers stroke fill"/>
    <path fill="#fc0" stroke="#000" stroke-linejoin="round" stroke-width=".374" d="M48.586 28.377H87.9V54.46H48.586z"/>
    <text xml:space="preserve" x="-20.64" y="-456.139" stroke-opacity=".798" stroke-width=".265" font-family="Monospace" font-size="5.644" font-weight="700" paint-order="markers stroke fill" style="Monospace, Bold&quot;;text-align:center" text-anchor="middle" transform="translate(89.06 496.085)"><tspan x="-20.64" y="-456.139" style="Monospace, Bold&quot;;">Self</tspan><tspan x="-20.64" y="-449.084" style="Monospace, Bold&quot;;">Attention</tspan></text>
    <path fill="#fc0" stroke="#000" stroke-linejoin="round" stroke-width=".374" d="M153.24 28.377h39.314V54.46H153.24z"/>
    <text xml:space="preserve" x="-20.64" y="-456.139" stroke-opacity=".798" stroke-width=".265" font-family="Monospace" font-size="5.644" font-weight="700" paint-order="markers stroke fill" style="Monospace, Bold&quot;;text-align:center" text-anchor="middle" transform="translate(193.715 496.085)"><tspan x="-20.64" y="-456.139" style="Monospace, Bold&quot;;">MLP</tspan><tspan x="-20.64" y="-449.084" style="Monospace, Bold&quot;;">(normed)</tspan></text>
    <path fill="#fff" stroke="#000" stroke-width=".529" d="m149.421 42.793 2.093-1.375-2.093-1.375v1.088h-5.038v.529h5.038z" paint-order="markers stroke fill"/>
    <path fill="#fc0" stroke="#000" stroke-linejoin="round" stroke-width=".374" d="M208.392 49.543h39.313v26.084h-39.313z"/>
    <text xml:space="preserve" x="-20.64" y="-456.139" stroke-opacity=".798" stroke-width=".265" font-family="Monospace" font-size="5.644" font-weight="700" paint-order="markers stroke fill" style="Monospace, Bold&quot;;text-align:center" text-anchor="middle" transform="translate(248.866 517.251)"><tspan x="-20.64" y="-456.139" style="Monospace, Bold&quot;;">Cross</tspan><tspan x="-20.64" y="-449.084" style="Monospace, Bold&quot;;">Attention</tspan></text>
    <path fill="#fc0" stroke="#000" stroke-linejoin="round" stroke-width=".374" d="M103.56 28.377h39.312V54.46H103.56z"/>
    <text xml:space="preserve" x="-20.64" y="-456.139" stroke-opacity=".798" stroke-width=".265" font-family="Monospace" font-size="5.644" font-weight="700" paint-order="markers stroke fill" style="Monospace, Bold&quot;;text-align:center" text-anchor="middle" transform="translate(144.033 496.085)"><tspan x="-20.64" y="-456.139" style="Monospace, Bold&quot;;">Cross</tspan><tspan x="-20.64" y="-449.084" style="Monospace, Bold&quot;;">Attention</tspan></text>
    <path fill="#fff" stroke="#000" stroke-width=".529" d="m99.74 39.358 2.092-1.375-2.092-1.375v1.088H89.41v.529h10.33zm98.649 2.302v17.202h6.183v-1.087l2.093 1.375-2.093 1.375V59.39h-6.712V41.66h-4.031v-.53h100.497v-1.087l2.092 1.375-2.092 1.375V41.66h-86.15Z" paint-order="markers stroke fill"/>
    <path fill="#fff" stroke="#000" stroke-width=".529" d="M202.093 51.992h2.48v-1.087l2.092 1.374-2.093 1.375v-1.133h-3.008v-8.206c0-.169.106-.27.185-.342.08-.073.17-.132.27-.197.202-.132.449-.281.693-.479.488-.394.953-.95.977-1.928-.024-.978-.489-1.533-.977-1.927-.244-.198-.491-.35-.693-.48-.1-.067-.19-.125-.27-.198-.079-.073-.185-.173-.185-.342V23.39H95.674v7.435h4.066v-1.087l2.092 1.375-2.092 1.375v-1.134h-4.596V23.39H42.06v12.45h2.48v-1.088l2.092 1.374-2.093 1.376v-1.134h-3.008V23.39H1.278v-.529h200.815l.002 15.512c.034.032.12.084.213.145.188.122.46.286.739.512.557.45 1.174 1.18 1.174 2.334v.012c0 1.152-.617 1.881-1.174 2.332-.279.225-.55.389-.739.511-.093.062-.18.114-.215.145zM91.44 45.141h8.3v1.087l2.092-1.374-2.092-1.375v1.133h-8.83v21.12H1.279v.53h203.294v1.133l2.093-1.375-2.093-1.375v1.088H91.44Z" paint-order="markers stroke fill"/>
    <path fill="#fff" stroke="#000" stroke-width=".529" d="M96.202 69.007c.034-.03.12-.083.214-.144.187-.123.46-.287.738-.512.557-.45 1.174-1.179 1.174-2.332v-.012c0-1.153-.617-1.883-1.174-2.334-.279-.225-.55-.39-.738-.512-.094-.06-.18-.113-.214-.144V52.012h3.538v1.087l2.092-1.375-2.092-1.375v1.133h-4.067v11.584c0 .168.105.269.184.341.08.073.169.132.27.198.201.131.448.283.693.48.488.395.953.95.976 1.928-.023.978-.488 1.533-.976 1.928-.245.197-.492.347-.693.478-.101.066-.19.125-.27.197-.08.073-.184.174-.184.342v3.645H1.278v.53h203.294v1.132l2.093-1.375-2.093-1.374v1.087H96.202Zm198.124-5.047 2.092-1.375-2.092-1.375v1.087h-45.158v.53h45.158z" paint-order="markers stroke fill"/>
    <text xml:space="preserve" x="399.485" y="-507.23" fill="#fff" stroke="#000" stroke-linejoin="bevel" stroke-width=".794" font-family="Monospace" font-size="4.233" font-weight="400" paint-order="markers stroke fill" style="text-align:center;" text-anchor="middle" transform="translate(-120.925 546.641)"><tspan x="399.485" y="-507.23" style="text-align:center;">prompt tokens</tspan></text>
    <text xml:space="preserve" x="137.559" y="-502.467" fill="#fff" stroke="#000" stroke-linejoin="bevel" stroke-width=".794" font-family="Monospace" font-size="4.233" font-weight="400" paint-order="markers stroke fill" style="text-align:center;" text-anchor="middle" transform="translate(-120.925 546.641)"><tspan x="137.559" y="-502.467" style="text-align:center;">prompt tokens</tspan></text>
    <text xml:space="preserve" x="138.834" y="-482.836" fill="#fff" stroke="#000" stroke-linejoin="bevel" stroke-width=".794" font-family="Monospace" font-size="4.233" font-weight="400" paint-order="markers stroke fill" style="text-align:center;" text-anchor="middle" transform="translate(-120.925 546.641)"><tspan x="138.834" y="-482.836" style="text-align:center;">image tokens</tspan></text>
    <text xml:space="preserve" x="137.495" y="-525.982" fill="#fff" stroke="#000" stroke-linejoin="bevel" stroke-width=".794" font-family="Monospace" font-size="4.233" font-weight="400" paint-order="markers stroke fill" style="text-align:center;" text-anchor="middle" transform="translate(-120.925 546.641)"><tspan x="137.495" y="-525.982" style="text-align:center;">prompt posenc</tspan></text>
    <text xml:space="preserve" x="138.77" y="-469.336" fill="#fff" stroke="#000" stroke-linejoin="bevel" stroke-width=".794" font-family="Monospace" font-size="4.233" font-weight="400" paint-order="markers stroke fill" style="text-align:center;" text-anchor="middle" transform="translate(-120.925 546.641)"><tspan x="138.77" y="-469.336" style="text-align:center;">image posenc</tspan></text>
    <path fill="none" stroke="#fc0" stroke-width="2.24" d="M35.886 8.471h223.396v73.43H35.886z" paint-order="stroke fill markers"/>
  </g>
</svg>
